import{j as e,r as n,u as b,d as t}from"./index-a0be61cb.js";const s="wss://echo.websocket.events",r="wss://demos.kaazing.com/echo",C=1,j=({})=>{const[c,d]=n.useState(s),[S,l]=n.useState([]),[i,g]=n.useState(""),{sendMessage:h,lastMessage:a,readyState:u}=b(s,{share:!0,shouldReconnect:()=>!0,reconnectAttempts:10,reconnectInterval:3e3,heartbeat:{message:"ping",returnMessage:"pong",timeout:6e4,interval:3e3}});n.useEffect(()=>{a&&l(o=>o.concat(a.data))},[a]);const x={[t.ReadyState.CONNECTING]:"Connecting",[t.ReadyState.OPEN]:"Open",[t.ReadyState.CLOSING]:"Closing",[t.ReadyState.CLOSED]:"Closed",[t.ReadyState.UNINSTANTIATED]:"Uninstantiated"};return e.jsxs("div",{children:["Whatever you send will be echoed from the Server",e.jsxs("div",{children:[e.jsx("input",{type:"text",value:i,onChange:o=>g(o.target.value)}),e.jsx("button",{onClick:()=>h(i),disabled:u!==C,children:"Send"})]}),"Select Socket Server:",e.jsx("br",{}),e.jsx("button",{onClick:()=>d(s),disabled:c===s,children:s}),e.jsx("button",{onClick:()=>d(r),disabled:c===r,children:r}),e.jsx("br",{}),"ReadyState: ",x[u],e.jsx("br",{}),"MessageHistory: ",S.join(", ")]})};function E(){return e.jsx(j,{})}export{E as ShopPage};
